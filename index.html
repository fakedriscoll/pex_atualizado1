<!-- HTML -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberSecurity Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-50 font-sans">
    <!-- Login Screen -->
    <div id="login-screen" class="min-h-screen flex items-center justify-center gradient-bg p-4">
        <div class="login-box bg-white rounded-xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <i class="fas fa-shield-alt text-5xl text-blue-600 mb-4"></i>
                <h1 class="text-3xl font-bold text-gray-800">CyberSecurity Academy</h1>
                <p class="text-gray-600 mt-2">Aprenda e teste seus conhecimentos em cibersegurança</p>
            </div>
            
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Nome de usuário</label>
                    <input type="text" id="username" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Digite seu nome" required>
                </div>
                
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="seu@email.com" required>
                </div>
                
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Senha</label>
                    <input type="password" id="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="••••••••" required>
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input id="remember-me" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">Lembrar de mim</label>
                    </div>
                    
                    <a href="#" class="text-sm text-blue-600 hover:text-blue-500">Esqueceu a senha?</a>
                </div>
                
                <button type="submit" class="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition">
                    Entrar
                </button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-sm text-gray-600">
                    Não tem uma conta? <a href="#" class="text-blue-600 hover:text-blue-500 font-medium">Cadastre-se</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Main App (initially hidden) -->
    <div id="app" class="hidden">
        <header class="bg-blue-800 text-white py-4 shadow-lg sticky top-0 z-10">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-shield-alt text-2xl"></i>
                        <h1 class="text-2xl font-bold">CyberSecurity Academy</h1>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span id="username-display" class="hidden md:inline font-medium"></span>
                        <button id="logout-btn" class="px-3 py-1 bg-blue-700 rounded-lg text-sm hover:bg-blue-600 transition">
                            <i class="fas fa-sign-out-alt"></i> <span class="hidden md:inline">Sair</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <main class="container mx-auto px-4 py-8">
            <!-- Navigation Tabs -->
            <div class="flex border-b border-gray-200 mb-8">
                <button id="reading-tab" class="px-6 py-3 font-medium text-blue-600 border-b-2 border-blue-600">Leitura</button>
                <button id="quiz-tab" class="px-6 py-3 font-medium text-gray-500 hover:text-gray-700">Quiz</button>
            </div>
            
            <!-- Reading Section -->
            <section id="reading-section" class="reading-section rounded-lg shadow-md p-6 md:p-8 mb-12">
                <h2 class="text-3xl font-bold text-blue-900 mb-6">Fundamentos de Cibersegurança</h2>
                
                <article class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-800 mb-4">1. Introdução à Cibersegurança</h3>
                    <p class="mb-4 text-gray-700 leading-relaxed">
                        Cibersegurança é a prática de proteger sistemas, redes e programas de ataques digitais. Esses ataques geralmente visam acessar, alterar ou destruir informações confidenciais; extorquir dinheiro dos usuários; ou interromper processos de negócios normais.
                    </p>
                    <div class="highlight mb-4">
                        <p class="font-medium">Dado importante:</p>
                        <p>Segundo o Relatório de Ameaças Cibernéticas da SonicWall, houve um aumento de 62% nos ataques de ransomware em 2021 em comparação com 2020.</p>
                    </div>
                    <p class="mb-4 text-gray-700 leading-relaxed">
                        Com a crescente digitalização, a cibersegurança tornou-se essencial para indivíduos, empresas e governos. Ataques cibernéticos podem causar danos financeiros, perda de dados e até comprometer a segurança nacional.
                    </p>
                </article>
                
                <article class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-800 mb-4">2. Principais Ameaças Cibernéticas</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-red-600 mb-2"><i class="fas fa-bug mr-2"></i>Malware</h4>
                            <p class="text-gray-700">Software malicioso que inclui vírus, worms, trojans e spyware. Pode danificar dispositivos ou roubar informações. O malware pode se espalhar através de downloads, e-mails ou dispositivos USB infectados.</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-red-600 mb-2"><i class="fas fa-fish mr-2"></i>Phishing</h4>
                            <p class="text-gray-700">Tentativas fraudulentas de obter informações sensíveis, como senhas e dados de cartão de crédito, disfarçadas de comunicação confiável. Pode ocorrer via e-mail, SMS (smishing) ou chamadas telefônicas (vishing).</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-red-600 mb-2"><i class="fas fa-network-wired mr-2"></i>Ataques DDoS</h4>
                            <p class="text-gray-700">Ataques de Negação de Serviço Distribuído sobrecarregam sistemas com tráfego para torná-los indisponíveis. Frequentemente usam botnets (redes de dispositivos comprometidos) para gerar tráfego malicioso.</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-red-600 mb-2"><i class="fas fa-user-secret mr-2"></i>Engenharia Social</h4>
                            <p class="text-gray-700">Manipulação psicológica para que pessoas divulguem informações confidenciais ou realizem ações que comprometam a segurança. Inclui pretexting (invenção de cenários), baiting (iscas) e quid pro quo (troca de favores).</p>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-red-600 mb-2"><i class="fas fa-lock-open mr-2"></i>Quebra de Senhas</h4>
                            <p class="text-gray-700">Técnicas como força bruta, dicionário ou rainbow tables para descobrir senhas. Senhas fracas ou reutilizadas são especialmente vulneráveis a esses ataques.</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-red-600 mb-2"><i class="fas fa-user-tie mr-2"></i>Ameaças Internas</h4>
                            <p class="text-gray-700">Riscos provenientes de funcionários, ex-funcionários ou parceiros de negócios que têm acesso a sistemas e podem causar danos intencionalmente ou acidentalmente.</p>
                        </div>
                    </div>
                </article>
                
                <article class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-800 mb-4">3. Boas Práticas de Segurança</h3>
                    
                    <div class="tip-box p-4 rounded mb-4">
                        <h4 class="text-lg font-semibold text-green-800 mb-2"><i class="fas fa-check-circle mr-2"></i>Use senhas fortes</h4>
                        <p class="text-gray-700">Combine letras maiúsculas e minúsculas, números e símbolos. Evite informações pessoais e use senhas diferentes para cada conta. Considere usar frases longas (ex: "CaféPreto@7hDaManhã!") ou um gerenciador de senhas.</p>
                    </div>
                    
                    <div class="tip-box p-4 rounded mb-4">
                        <h4 class="text-lg font-semibold text-green-800 mb-2"><i class="fas fa-shield-alt mr-2"></i>Ative a autenticação de dois fatores (2FA)</h4>
                        <p class="text-gray-700">Adicione uma camada extra de segurança além da senha, como um código enviado para seu celular ou um aplicativo autenticador. Prefira métodos baseados em aplicativos (Google Authenticator, Authy) em vez de SMS.</p>
                    </div>
                    
                    <div class="tip-box p-4 rounded mb-4">
                        <h4 class="text-lg font-semibold text-green-800 mb-2"><i class="fas fa-sync-alt mr-2"></i>Mantenha software atualizado</h4>
                        <p class="text-gray-700">Atualizações frequentemente incluem correções para vulnerabilidades de segurança. Ative atualizações automáticas quando possível e não ignore notificações de atualização.</p>
                    </div>
                    
                    <div class="warning-box p-4 rounded mb-4">
                        <h4 class="text-lg font-semibold text-red-800 mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>Cuidado com links suspeitos</h4>
                        <p class="text-gray-700">Não clique em links em e-mails ou mensagens não solicitadas, mesmo que pareçam legítimos. Passe o mouse sobre links para ver o destino real e verifique o endereço do remetente.</p>
                    </div>
                    
                    <div class="warning-box p-4 rounded mb-4">
                        <h4 class="text-lg font-semibold text-red-800 mb-2"><i class="fas fa-wifi mr-2"></i>Evite redes Wi-Fi públicas</h4>
                        <p class="text-gray-700">Redes não seguras podem permitir que hackers interceptem seus dados. Use VPN se necessário e evite acessar contas sensíveis em redes públicas. Desative o compartilhamento de arquivos nessas redes.</p>
                    </div>
                    
                    <div class="tip-box p-4 rounded">
                        <h4 class="text-lg font-semibold text-green-800 mb-2"><i class="fas fa-cloud-upload-alt mr-2"></i>Faça backups regulares</h4>
                        <p class="text-gray-700">Mantenha cópias de seus dados importantes em locais seguros, seguindo a regra 3-2-1: 3 cópias, 2 mídias diferentes, 1 fora do local. Teste regularmente a restauração dos backups.</p>
                    </div>
                </article>
                
                <article class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-800 mb-4">4. Proteção de Dados Pessoais</h3>
                    <p class="mb-4 text-gray-700 leading-relaxed">
                        Seus dados pessoais são valiosos e devem ser protegidos. Aqui estão algumas medidas específicas:
                    </p>
                    <ul class="list-disc pl-6 mb-4 space-y-2 text-gray-700">
                        <li><strong>Configurações de privacidade:</strong> Ajuste cuidadosamente as configurações em redes sociais e serviços online para limitar quem pode ver suas informações.</li>
                        <li><strong>Compartilhamento mínimo:</strong> Pense duas vezes antes de compartilhar informações pessoais como endereço, data de nascimento completa ou detalhes financeiros.</li>
                        <li><strong>Criptografia:</strong> Use criptografia para dados sensíveis, tanto em trânsito (HTTPS, VPN) quanto em repouso (criptografia de disco).</li>
                        <li><strong>LGPD:</strong> Conheça seus direitos sob a Lei Geral de Proteção de Dados, incluindo acesso, correção e exclusão de dados pessoais.</li>
                        <li><strong>Exclusão de contas:</strong> Quando parar de usar um serviço, exclua sua conta em vez de apenas desinstalar o aplicativo.</li>
                    </ul>
                    <div class="highlight mb-4">
                        <p class="font-medium">Dica profissional:</p>
                        <p>Considere usar aliases de e-mail ou serviços de máscara de e-mail para cadastros online, mantendo seu e-mail principal privado.</p>
                    </div>
                </article>
                
                <article class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-800 mb-4">5. Cibersegurança no Ambiente Corporativo</h3>
                    <p class="mb-4 text-gray-700 leading-relaxed">
                        Nas empresas, a cibersegurança requer abordagens adicionais e políticas formais:
                    </p>
                    <div class="grid md:grid-cols-3 gap-4 mb-4">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-blue-700 mb-2"><i class="fas fa-fire-extinguisher mr-2"></i>Firewalls</h4>
                            <p class="text-sm text-gray-600">Barreiras que monitoram e controlam o tráfego de rede entre redes internas e externas, seguindo regras de segurança definidas.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-blue-700 mb-2"><i class="fas fa-chart-line mr-2"></i>SIEM</h4>
                            <p class="text-sm text-gray-600">Sistemas de gerenciamento e correlação de eventos de segurança que agregam e analisam logs de diversas fontes para detectar ameaças.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-blue-700 mb-2"><i class="fas fa-graduation-cap mr-2"></i>Treinamento</h4>
                            <p class="text-sm text-gray-600">Capacitação contínua dos colaboradores em segurança da informação, incluindo simulações de phishing e boas práticas.</p>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-blue-700 mb-2"><i class="fas fa-user-shield mr-2"></i>Controle de Acesso</h4>
                            <p class="text-sm text-gray-600">Princípio do menor privilégio, autenticação forte e revisão periódica de permissões para evitar acesso não autorizado.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-blue-700 mb-2"><i class="fas fa-file-contract mr-2"></i>Políticas de Segurança</h4>
                            <p class="text-sm text-gray-600">Documentos formais que definem regras, responsabilidades e procedimentos para proteger os ativos de informação.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-blue-700 mb-2"><i class="fas fa-bug mr-2"></i>Testes de Penetração</h4>
                            <p class="text-sm text-gray-600">Simulações de ataques realizadas por especialistas para identificar vulnerabilidades antes que criminosos as explorem.</p>
                        </div>
                    </div>
                    
                    <p class="text-gray-700">
                        A implementação de um programa abrangente de segurança cibernética, incluindo plano de resposta a incidentes, continuidade de negócios e recuperação de desastres, é essencial para proteger os ativos digitais das organizações contra ameaças cada vez mais sofisticadas.
                    </p>
                </article>
                
                <article class="mb-10">
                    <h3 class="text-2xl font-semibold text-blue-800 mb-4">6. Carreiras em Cibersegurança</h3>
                    <p class="mb-4 text-gray-700 leading-relaxed">
                        O campo da cibersegurança oferece diversas oportunidades de carreira com alta demanda no mercado:
                    </p>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-blue-600 mb-2"><i class="fas fa-search mr-2"></i>Analista de Segurança</h4>
                            <p class="text-gray-700">Monitora redes e sistemas em busca de vulnerabilidades e atividades suspeitas, investiga incidentes e implementa medidas de proteção.</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-blue-600 mb-2"><i class="fas fa-user-ninja mr-2"></i>Hacker Ético</h4>
                            <p class="text-gray-700">Realiza testes de penetração autorizados para identificar falhas de segurança antes que criminosos as explorem.</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-blue-600 mb-2"><i class="fas fa-gavel mr-2"></i>Especialista em Forense Digital</h4>
                            <p class="text-gray-700">Investiga crimes cibernéticos, recupera dados e preserva evidências digitais para processos judiciais.</p>
                        </div>
                        <div class="bg-white p-5 rounded-lg shadow">
                            <h4 class="text-xl font-semibold text-blue-600 mb-2"><i class="fas fa-lock mr-2"></i>Arquiteto de Segurança</h4>
                            <p class="text-gray-700">Projeta e implementa estruturas de segurança abrangentes para organizações, alinhadas com os objetivos de negócios.</p>
                        </div>
                    </div>
                    
                    <div class="tip-box p-4 rounded">
                        <h4 class="text-lg font-semibold text-green-800 mb-2"><i class="fas fa-certificate mr-2"></i>Certificações Profissionais</h4>
                        <p class="text-gray-700">Certificações como CISSP, CEH, CompTIA Security+, CISM e OSCP podem validar suas habilidades e impulsionar sua carreira em cibersegurança. Pesquise quais se alinham com seus objetivos profissionais.</p>
                    </div>
                </article>
                
                <div class="mt-12 text-center">
                    <button id="start-quiz-btn" class="px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg flex items-center justify-center mx-auto">
                        <i class="fas fa-play-circle mr-2"></i> Teste Seu Conhecimento - Iniciar Quiz
                    </button>
                </div>
            </section>
            
            <!-- Quiz Categories Section (initially hidden) -->
            <section id="quiz-categories-section" class="hidden bg-white rounded-lg shadow-lg p-8 mb-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-blue-900">Escolha as Categorias do Quiz</h2>
                    <p class="text-gray-600 mt-2">Selecione os tópicos que deseja incluir no seu teste de conhecimento</p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <div class="category-btn bg-blue-50 p-6 rounded-lg border-2 border-blue-100 cursor-pointer" data-category="fundamentos">
                        <div class="flex items-center mb-3">
                            <div class="bg-blue-100 p-3 rounded-full mr-4">
                                <i class="fas fa-shield-alt text-blue-600 text-xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-blue-800">Fundamentos</h3>
                        </div>
                        <p class="text-gray-600 text-sm">Conceitos básicos, terminologia e princípios essenciais de cibersegurança.</p>
                        <div class="mt-4 text-right">
                            <span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded">10 questões</span>
                        </div>
                    </div>
                    
                    <div class="category-btn bg-green-50 p-6 rounded-lg border-2 border-green-100 cursor-pointer" data-category="ameacas">
                        <div class="flex items-center mb-3">
                            <div class="bg-green-100 p-3 rounded-full mr-4">
                                <i class="fas fa-bug text-green-600 text-xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-green-800">Ameaças</h3>
                        </div>
                        <p class="text-gray-600 text-sm">Tipos de malware, vetores de ataque e técnicas usadas por cibercriminosos.</p>
                        <div class="mt-4 text-right">
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded">12 questões</span>
                        </div>
                    </div>
                    
                    <div class="category-btn bg-yellow-50 p-6 rounded-lg border-2 border-yellow-100 cursor-pointer" data-category="protecao">
                        <div class="flex items-center mb-3">
                            <div class="bg-yellow-100 p-3 rounded-full mr-4">
                                <i class="fas fa-lock text-yellow-600 text-xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-yellow-800">Proteção Pessoal</h3>
                        </div>
                        <p class="text-gray-600 text-sm">Boas práticas para proteger seus dispositivos, contas e dados pessoais.</p>
                        <div class="mt-4 text-right">
                            <span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded">8 questões</span>
                        </div>
                    </div>
                    
                    <div class="category-btn bg-purple-50 p-6 rounded-lg border-2 border-purple-100 cursor-pointer" data-category="empresarial">
                        <div class="flex items-center mb-3">
                            <div class="bg-purple-100 p-3 rounded-full mr-4">
                                <i class="fas fa-building text-purple-600 text-xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-purple-800">Segurança Corporativa</h3>
                        </div>
                        <p class="text-gray-600 text-sm">Controles de segurança, políticas e práticas para ambientes empresariais.</p>
                        <div class="mt-4 text-right">
                            <span class="bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded">10 questões</span>
                        </div>
                    </div>
                    
                    <div class="category-btn bg-red-50 p-6 rounded-lg border-2 border-red-100 cursor-pointer" data-category="lgpd">
                        <div class="flex items-center mb-3">
                            <div class="bg-red-100 p-3 rounded-full mr-4">
                                <i class="fas fa-gavel text-red-600 text-xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-red-800">LGPD e Ética</h3>
                        </div>
                        <p class="text-gray-600 text-sm">Lei Geral de Proteção de Dados, privacidade e aspectos éticos da segurança.</p>
                        <div class="mt-4 text-right">
                            <span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded">6 questões</span>
                        </div>
                    </div>
                    
                    <div class="category-btn bg-indigo-50 p-6 rounded-lg border-2 border-indigo-100 cursor-pointer" data-category="carreira">
                        <div class="flex items-center mb-3">
                            <div class="bg-indigo-100 p-3 rounded-full mr-4">
                                <i class="fas fa-user-tie text-indigo-600 text-xl"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-indigo-800">Carreiras</h3>
                        </div>
                        <p class="text-gray-600 text-sm">Oportunidades profissionais, certificações e habilidades necessárias na área.</p>
                        <div class="mt-4 text-right">
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2.5 py-0.5 rounded">4 questões</span>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button id="start-selected-quiz" class="px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg">
                        Iniciar Quiz com Categorias Selecionadas
                    </button>
                </div>
            </section>
            
            <!-- Quiz Section (initially hidden) -->
            <section id="quiz-section" class="hidden bg-white rounded-lg shadow-lg p-8">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-blue-900">Quiz de Cibersegurança</h2>
                    <p id="quiz-categories-display" class="text-gray-600 mt-2"></p>
                </div>
                
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-medium text-gray-700">Progresso</span>
                        <span id="progress-text" class="font-medium">1/50</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full progress-bar" style="width: 2%"></div>
                    </div>
                </div>
                
                <div id="quiz-container">
                    <!-- Questions will be dynamically inserted here -->
                </div>
                
                <div class="flex justify-between mt-8">
                    <button id="prev-btn" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition hidden">
                        <i class="fas fa-arrow-left mr-2"></i>Anterior
                    </button>
                    <button id="next-btn" class="px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition ml-auto">
                        Próxima<i class="fas fa-arrow-right ml-2"></i>
                    </button>
                    <button id="finish-btn" class="px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition hidden">
                        <i class="fas fa-check-circle mr-2"></i>Ver Resultado
                    </button>
                </div>
            </section>
            
            <!-- Results Section (initially hidden) -->
            <section id="results-section" class="hidden bg-white rounded-lg shadow-lg p-8 text-center">
                <h2 class="text-3xl font-bold text-blue-900 mb-6">Resultado do Quiz</h2>
                
                <div class="flex flex-col md:flex-row justify-center items-center gap-8 mb-8">
                    <div class="bg-blue-100 rounded-full p-8 w-48 h-48 flex items-center justify-center">
                        <div>
                            <span id="score" class="text-5xl font-bold text-blue-800">0</span>
                            <span class="text-2xl text-blue-800">/50</span>
                            <p class="text-blue-700 mt-2">pontos</p>
                        </div>
                    </div>
                    
                    <div class="text-left">
                        <div class="mb-4">
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">Desempenho por Categoria</h3>
                            <div id="category-results" class="space-y-2">
                                <!-- Category results will be inserted here -->
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">Tempo Total</h3>
                            <p id="quiz-time" class="text-gray-700">00:00</p>
                        </div>
                    </div>
                </div>
                
                <div id="score-message" class="max-w-2xl mx-auto mb-8 p-4 rounded-lg"></div>
                
                <div id="wrong-answers" class="text-left max-w-4xl mx-auto mb-8"></div>
                
                <div class="flex justify-center space-x-4">
                    <button id="retry-btn" class="px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition">
                        <i class="fas fa-redo mr-2"></i>Tentar Novamente
                    </button>
                    <button id="back-to-reading" class="px-6 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition">
                        <i class="fas fa-book mr-2"></i>Voltar para a Leitura
                    </button>
                </div>
            </section>
        </main>
        
        <footer class="bg-gray-800 text-white py-6 mt-12">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="flex items-center space-x-2 mb-4 md:mb-0">
                        <i class="fas fa-shield-alt text-2xl"></i>
                        <h2 class="text-xl font-bold">CyberSecurity Academy</h2>
                    </div>
                    <div class="flex space-x-6">
                        <a href="#" class="hover:text-blue-300"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="hover:text-blue-300"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="hover:text-blue-300"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="hover:text-blue-300"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="mt-4 text-center md:text-left">
                    <p class="text-sm text-gray-400">© 2023 CyberSecurity Academy - Todos os direitos reservados</p>
                    <p class="text-xs text-gray-500 mt-1">Este material é apenas para fins educativos.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Login Functionality
        const loginScreen = document.getElementById('login-screen');
        const appScreen = document.getElementById('app');
        const loginForm = document.getElementById('login-form');
        const usernameInput = document.getElementById('username');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const usernameDisplay = document.getElementById('username-display');
        const logoutBtn = document.getElementById('logout-btn');

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = usernameInput.value;
            // Basic validation (can be expanded)
            if (username.trim() === '' || emailInput.value.trim() === '' || passwordInput.value.trim() === '') {
                alert('Por favor, preencha todos os campos.');
                return;
            }
            loginScreen.classList.add('hidden');
            appScreen.classList.remove('hidden');
            usernameDisplay.textContent = username;
            usernameDisplay.classList.remove('hidden');
            localStorage.setItem('cyberUser', username);
        });

        logoutBtn.addEventListener('click', () => {
            appScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
            usernameInput.value = '';
            emailInput.value = '';
            passwordInput.value = '';
            usernameDisplay.textContent = '';
            usernameDisplay.classList.add('hidden');
            localStorage.removeItem('cyberUser');
            // Reset quiz state if needed
            resetQuiz();
            showReadingSection(); 
        });

        // Check if user is already logged in
        const storedUser = localStorage.getItem('cyberUser');
        if (storedUser) {
            loginScreen.classList.add('hidden');
            appScreen.classList.remove('hidden');
            usernameDisplay.textContent = storedUser;
            usernameDisplay.classList.remove('hidden');
        }

        // Tab Navigation
        const readingTab = document.getElementById('reading-tab');
        const quizTab = document.getElementById('quiz-tab');
        const readingSection = document.getElementById('reading-section');
        const quizCategoriesSection = document.getElementById('quiz-categories-section');
        const quizSection = document.getElementById('quiz-section');
        const resultsSection = document.getElementById('results-section');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const startSelectedQuizBtn = document.getElementById('start-selected-quiz');

        function showReadingSection() {
            readingSection.classList.remove('hidden');
            quizCategoriesSection.classList.add('hidden');
            quizSection.classList.add('hidden');
            resultsSection.classList.add('hidden');
            readingTab.classList.add('border-blue-600', 'text-blue-600');
            readingTab.classList.remove('text-gray-500', 'hover:text-gray-700');
            quizTab.classList.add('text-gray-500', 'hover:text-gray-700');
            quizTab.classList.remove('border-blue-600', 'text-blue-600');
        }

        function showQuizCategoriesSection() {
            readingSection.classList.add('hidden');
            quizCategoriesSection.classList.remove('hidden');
            quizSection.classList.add('hidden');
            resultsSection.classList.add('hidden');
            quizTab.classList.add('border-blue-600', 'text-blue-600');
            quizTab.classList.remove('text-gray-500', 'hover:text-gray-700');
            readingTab.classList.add('text-gray-500', 'hover:text-gray-700');
            readingTab.classList.remove('border-blue-600', 'text-blue-600');
        }
        
        function showQuizSection() {
            readingSection.classList.add('hidden');
            quizCategoriesSection.classList.add('hidden');
            quizSection.classList.remove('hidden');
            resultsSection.classList.add('hidden');
        }

        function showResultsSection() {
            readingSection.classList.add('hidden');
            quizCategoriesSection.classList.add('hidden');
            quizSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');
        }

        readingTab.addEventListener('click', showReadingSection);
        quizTab.addEventListener('click', showQuizCategoriesSection);
        startQuizBtn.addEventListener('click', showQuizCategoriesSection);

        // Quiz Data (Simplified - Expand with more questions and categories)
        const quizData = {
            fundamentos: [
                { question: "O que é cibersegurança?", options: ["Proteger apenas computadores", "Proteger sistemas, redes e programas de ataques digitais", "Apenas sobre vírus", "Usar senhas fáceis"], answer: 1, explanation: "Cibersegurança é a prática de proteger sistemas, redes e programas de ataques digitais." },
                { question: "Qual destes é um exemplo de malware?", options: ["Firewall", "Antivírus", "Worm", "VPN"], answer: 2, explanation: "Worm é um tipo de malware que se replica para se espalhar para outros computadores." },
                { question: "O que significa 'phishing'?", options: ["Pescar informações online", "Um tipo de peixe raro", "Técnica para obter informações confidenciais enganando usuários", "Um software de proteção"], answer: 2, explanation: "Phishing é uma tentativa fraudulenta de obter informações sensíveis disfarçada de comunicação confiável." },
                { question: "Qual o objetivo principal de um ataque DDoS?", options: ["Roubar senhas", "Instalar spyware", "Tornar um serviço indisponível", "Criptografar arquivos"], answer: 2, explanation: "Ataques DDoS sobrecarregam sistemas com tráfego para torná-los indisponíveis." },
                { question: "O que é engenharia social em cibersegurança?", options: ["Desenvolver software social", "Manipulação psicológica para obter informações", "Criar redes sociais seguras", "Analisar o comportamento social de hackers"], answer: 1, explanation: "Engenharia social é a manipulação psicológica para que pessoas divulguem informações confidenciais." },
                { question: "Qual destes NÃO é uma boa prática para senhas?", options: ["Usar combinações de letras, números e símbolos", "Reutilizar a mesma senha em várias contas", "Criar senhas longas", "Usar um gerenciador de senhas"], answer: 1, explanation: "Reutilizar senhas é uma prática ruim, pois se uma conta for comprometida, outras também podem ser." },
                { question: "O que é autenticação de dois fatores (2FA)?", options: ["Usar duas senhas diferentes", "Uma camada extra de segurança além da senha", "Autenticar duas vezes ao dia", "Um tipo de firewall"], answer: 1, explanation: "2FA adiciona uma segunda forma de verificação, como um código enviado ao celular, para aumentar a segurança." },
                { question: "Por que é importante manter o software atualizado?", options: ["Para ter novos recursos visuais", "Para corrigir bugs e vulnerabilidades de segurança", "Para tornar o software mais rápido", "Não é tão importante"], answer: 1, explanation: "Atualizações frequentemente incluem correções para falhas de segurança que podem ser exploradas por atacantes." },
                { question: "O que fazer ao receber um e-mail com link suspeito?", options: ["Clicar para investigar", "Responder pedindo mais informações", "Excluir o e-mail sem clicar no link", "Encaminhar para amigos"], answer: 2, explanation: "Nunca clique em links suspeitos. Verifique o remetente e, na dúvida, exclua o e-mail." },
                { question: "Qual a principal desvantagem de usar Wi-Fi público sem proteção?", options: ["Velocidade lenta", "Anúncios excessivos", "Risco de interceptação de dados", "Limitação de tempo de uso"], answer: 2, explanation: "Redes Wi-Fi públicas não seguras podem permitir que hackers interceptem seus dados." }
            ],
            ameacas: [
                { question: "Qual tipo de malware se disfarça de software legítimo?", options: ["Vírus", "Worm", "Cavalo de Troia (Trojan)", "Spyware"], answer: 2, explanation: "Cavalos de Troia se passam por programas úteis para enganar o usuário e infectar o sistema." },
                { question: "O que é ransomware?", options: ["Software que otimiza o desempenho do PC", "Malware que bloqueia o acesso a dados e exige resgate", "Um tipo de antivírus avançado", "Ferramenta de backup de arquivos"], answer: 1, explanation: "Ransomware criptografa os arquivos da vítima e exige pagamento para liberá-los." },
                { question: "Como um worm se diferencia de um vírus?", options: ["Worms não causam danos", "Vírus precisam de um programa hospedeiro, worms se replicam sozinhos", "Worms são mais fáceis de remover", "Vírus são apenas para e-mail"], answer: 1, explanation: "Vírus precisam se anexar a um programa para se espalhar, enquanto worms podem se replicar e se espalhar de forma autônoma pela rede." },
                { question: "O que é spyware?", options: ["Software que espia o usuário sem seu consentimento", "Um tipo de jogo online", "Ferramenta de limpeza de sistema", "Um navegador seguro"], answer: 0, explanation: "Spyware coleta informações sobre as atividades do usuário, como senhas e histórico de navegação, sem que ele saiba." },
                { question: "Qual técnica de phishing usa SMS?", options: ["Vishing", "Smishing", "Whaling", "Spear phishing"], answer: 1, explanation: "Smishing é o phishing realizado através de mensagens SMS." },
                { question: "O que é 'baiting' em engenharia social?", options: ["Oferecer algo atraente para levar a vítima a uma armadilha", "Pescar em alto mar", "Um tipo de software de segurança", "Bloquear acesso a sites perigosos"], answer: 0, explanation: "Baiting (isca) envolve oferecer algo desejável (download gratuito, dispositivo USB 'achado') para atrair a vítima a comprometer sua segurança." },
                { question: "Um ataque que visa especificamente um indivíduo ou organização é chamado de:", options: ["Ataque genérico", "Ataque de força bruta", "Spear phishing", "Ataque de negação de serviço"], answer: 2, explanation: "Spear phishing é um ataque de phishing altamente direcionado e personalizado." },
                { question: "O que é um botnet?", options: ["Uma rede de robôs de limpeza", "Uma rede de computadores infectados controlados por um atacante", "Um software de automação de tarefas", "Um tipo de firewall"], answer: 1, explanation: "Botnets são redes de dispositivos 'zumbis' usados para realizar ataques DDoS, enviar spam, etc." },
                { question: "Qual o principal objetivo de um keylogger?", options: ["Registrar as teclas digitadas pelo usuário", "Bloquear o teclado", "Acelerar a digitação", "Corrigir erros de digitação"], answer: 0, explanation: "Keyloggers são malwares que capturam tudo que é digitado, incluindo senhas e informações bancárias." },
                { question: "O que é 'tailgating' ou 'piggybacking'?", options: ["Seguir alguém para uma festa", "Entrar em uma área restrita aproveitando o acesso de uma pessoa autorizada", "Um tipo de ataque de rede", "Compartilhar carona para o trabalho"], answer: 1, explanation: "Tailgating é uma técnica de engenharia social física onde o atacante segue uma pessoa autorizada para obter acesso a um local restrito." },
                { question: "Qual destes é um exemplo de ataque Man-in-the-Middle (MitM)?", options: ["Enviar um e-mail de phishing", "Interceptar a comunicação entre duas partes sem que elas saibam", "Adivinhar uma senha", "Infectar um computador com um vírus"], answer: 1, explanation: "Em um ataque MitM, o atacante se posiciona secretamente entre duas partes que estão se comunicando, podendo ler ou alterar as mensagens." },
                { question: "O que é 'dumpster diving' no contexto de segurança?", options: ["Mergulhar em uma piscina de lixo", "Procurar informações úteis em lixo descartado", "Um esporte radical", "Limpar arquivos desnecessários do computador"], answer: 1, explanation: "Dumpster diving é a prática de vasculhar o lixo de uma organização em busca de informações confidenciais descartadas incorretamente." }
            ],
            protecao: [
                { question: "Qual a importância de usar senhas diferentes para contas diferentes?", options: ["É mais fácil de lembrar", "Se uma senha for descoberta, as outras contas permanecem seguras", "Não é importante", "É uma exigência legal"], answer: 1, explanation: "Usar senhas únicas evita que o comprometimento de uma conta leve ao comprometimento de várias outras." },
                { question: "Um exemplo de informação pessoalmente identificável (PII) é:", options: ["Cor favorita", "Nome completo e CPF", "Opinião sobre um filme", "Marca de carro"], answer: 1, explanation: "PII são dados que podem ser usados para identificar um indivíduo específico, como nome, CPF, endereço." },
                { question: "O que é uma VPN e para que serve principalmente?", options: ["Vírus de Proteção de Rede, para bloquear malware", "Rede Privada Virtual, para criar uma conexão segura e criptografada à internet", "Verificador de Phishing de Notícias, para identificar notícias falsas", "Nenhuma das anteriores"], answer: 1, explanation: "VPNs criam um túnel criptografado para o tráfego da internet, aumentando a privacidade e segurança, especialmente em redes públicas." },
                { question: "Qual destes é um bom local para fazer backup de dados importantes?", options: ["Apenas no mesmo HD do computador", "Em um HD externo e na nuvem", "Em um pendrive deixado na mesa", "Não fazer backup"], answer: 1, explanation: "A regra 3-2-1 de backup sugere 3 cópias, em 2 mídias diferentes, com 1 fora do local. HD externo e nuvem são boas opções." },
                { question: "Ao usar um computador público, o que você deve sempre fazer ao terminar?", options: ["Deixar suas contas logadas para facilitar o próximo usuário", "Desligar o monitor", "Fazer logout de todas as suas contas e limpar o histórico de navegação", "Instalar seus programas favoritos"], answer: 2, explanation: "Sempre faça logout e limpe dados pessoais de computadores públicos para proteger sua privacidade." },
                { question: "O que significa HTTPS no início de um endereço web?", options: ["Hipertexto Transfer Protocol Seguro, indica uma conexão criptografada", "Site de Alta Performance e Tecnologia", "Host Transfer Protocol Standard", "Um site que não usa cookies"], answer: 0, explanation: "HTTPS indica que a comunicação entre seu navegador e o site é criptografada, tornando-a mais segura." },
                { question: "Qual o risco de conectar um pendrive desconhecido ao seu computador?", options: ["Nenhum, pendrives são sempre seguros", "Pode conter malware que infectará seu dispositivo", "Pode apagar seus arquivos", "Pode melhorar o desempenho do PC"], answer: 1, explanation: "Pendrives desconhecidos podem estar infectados com malware e comprometer seu sistema." },
                { question: "Por que é arriscado baixar software de fontes não oficiais?", options: ["O software pode ser mais caro", "Pode vir com malware embutido ou ser uma versão pirata com falhas", "Leva mais tempo para baixar", "Não há risco"], answer: 1, explanation: "Software de fontes não confiáveis frequentemente contém malware ou não possui as atualizações de segurança necessárias." }
            ],
            empresarial: [
                { question: "O que é um firewall em um ambiente corporativo?", options: ["Um sistema de alarme de incêndio", "Uma barreira que controla o tráfego de rede entre redes internas e externas", "Um software para apagar arquivos", "Um tipo de impressora de rede"], answer: 1, explanation: "Firewalls monitoram e filtram o tráfego de rede com base em regras de segurança para proteger a rede interna." },
                { question: "Qual o princípio do 'menor privilégio' no controle de acesso?", options: ["Dar a todos os usuários acesso total", "Conceder aos usuários apenas as permissões necessárias para realizar suas tarefas", "Privilegiar os gerentes com mais acesso", "Remover todos os privilégios"], answer: 1, explanation: "O princípio do menor privilégio limita o acesso dos usuários ao mínimo necessário, reduzindo o risco em caso de comprometimento da conta." },
                { question: "O que é um SIEM em segurança corporativa?", options: ["Sistema de Inteligência e Mapeamento de Emoções", "Software de Edição de Imagens Múltiplas", "Gerenciamento de Eventos e Informações de Segurança", "Serviço de Internet e Email Marketing"], answer: 2, explanation: "SIEM (Security Information and Event Management) coleta e analisa logs de segurança de várias fontes para detectar ameaças." },
                { question: "Por que o treinamento de conscientização em segurança é importante para funcionários?", options: ["Para que eles possam consertar computadores", "Para ajudá-los a identificar e evitar ameaças como phishing", "Para que possam desenvolver software seguro", "Não é muito importante"], answer: 1, explanation: "O treinamento ajuda os funcionários a se tornarem a primeira linha de defesa contra ataques, reconhecendo e reportando ameaças." },
                { question: "O que é uma política de segurança da informação?", options: ["Uma lei sobre crimes cibernéticos", "Um documento que define as regras e procedimentos de segurança de uma organização", "Um tipo de seguro contra ataques hacker", "Um software de antivírus"], answer: 1, explanation: "Políticas de segurança estabelecem as diretrizes que todos na organização devem seguir para proteger os ativos de informação." },
                { question: "O que é um teste de penetração (pentest)?", options: ["Um teste para verificar se canetas funcionam", "Uma simulação de ataque para identificar vulnerabilidades em um sistema", "Um exame médico para testar a pele", "Um teste de velocidade da internet"], answer: 1, explanation: "Testes de penetração são ataques simulados e autorizados para encontrar e corrigir falhas de segurança antes que criminosos as explorem." },
                { question: "Qual a finalidade de um Plano de Continuidade de Negócios (PCN)?", options: ["Garantir que a empresa continue operando durante e após um desastre", "Planejar as férias dos funcionários", "Aumentar as vendas da empresa", "Criar novos produtos"], answer: 0, explanation: "O PCN visa garantir a resiliência operacional da empresa diante de interrupções significativas." },
                { question: "O que é 'Zero Trust' como modelo de segurança?", options: ["Confiar em todos os usuários e dispositivos por padrão", "Nunca confiar, sempre verificar cada acesso, independentemente da origem", "Confiar apenas em dispositivos dentro da rede da empresa", "Não usar senhas"], answer: 1, explanation: "O modelo Zero Trust parte do princípio de que ameaças podem existir tanto fora quanto dentro da rede, exigindo verificação contínua." },
                { question: "Qual o papel da criptografia na segurança de dados corporativos?", options: ["Tornar os dados mais fáceis de ler", "Proteger a confidencialidade dos dados, tornando-os ilegíveis para quem não tem a chave", "Aumentar o tamanho dos arquivos", "Detectar vírus"], answer: 1, explanation: "A criptografia transforma dados em um formato ilegível para proteger sua confidencialidade contra acesso não autorizado." },
                { question: "O que é um 'incidente de segurança' em uma empresa?", options: ["Um funcionário chegando atrasado", "Qualquer evento que comprometa a confidencialidade, integridade ou disponibilidade dos dados ou sistemas", "Uma queda de energia", "Uma impressora quebrada"], answer: 1, explanation: "Um incidente de segurança é uma violação ou ameaça iminente de violação das políticas de segurança da informação." }
            ],
            lgpd: [
                { question: "O que significa a sigla LGPD?", options: ["Lei Geral de Proteção de Documentos", "Lei Geral de Proteção de Dados Pessoais", "Lei Global de Privacidade Digital", "Liga Geral de Programadores Dedicados"], answer: 1, explanation: "LGPD é a Lei Geral de Proteção de Dados Pessoais, que regula o tratamento de dados pessoais no Brasil." },
                { question: "Qual o principal objetivo da LGPD?", options: ["Punir empresas que usam dados", "Proteger os direitos fundamentais de liberdade e de privacidade e o livre desenvolvimento da personalidade da pessoa natural", "Coletar mais dados dos cidadãos", "Facilitar a venda de dados pessoais"], answer: 1, explanation: "A LGPD visa proteger os dados pessoais dos cidadãos, garantindo sua privacidade e controle sobre suas informações." },
                { question: "Quem é o 'titular' dos dados segundo a LGPD?", options: ["A empresa que coleta os dados", "O governo", "A pessoa natural a quem se referem os dados pessoais", "O encarregado de dados (DPO)"], answer: 2, explanation: "O titular é a pessoa física a quem os dados se referem." },
                { question: "O que é 'consentimento' no contexto da LGPD?", options: ["Uma ordem judicial para coletar dados", "Manifestação livre, informada e inequívoca pela qual o titular concorda com o tratamento de seus dados para uma finalidade determinada", "Um contrato de trabalho", "Uma taxa paga pela empresa"], answer: 1, explanation: "O consentimento é uma das bases legais para o tratamento de dados, e deve ser dado de forma clara e específica pelo titular." },
                { question: "Qual o papel do Encarregado de Proteção de Dados (DPO)?", options: ["Vender os dados da empresa", "Atuar como canal de comunicação entre o controlador, os titulares dos dados e a Autoridade Nacional de Proteção de Dados (ANPD)", "Desenvolver software de segurança", "Investigar crimes cibernéticos"], answer: 1, explanation: "O DPO é o responsável por orientar sobre as práticas de proteção de dados e ser o ponto de contato com titulares e a ANPD." },
                { question: "Quais são alguns dos direitos dos titulares previstos na LGPD?", options: ["Direito de vender seus dados para quem quiser", "Acesso aos dados, correção de dados incompletos, anonimização, eliminação dos dados", "Direito de invadir sistemas para verificar seus dados", "Apenas o direito de ser esquecido"], answer: 1, explanation: "A LGPD garante diversos direitos aos titulares, como acesso, retificação, cancelamento ou oposição ao tratamento de seus dados." }
            ],
            carreira: [
                { question: "Qual destas NÃO é uma carreira comum em cibersegurança?", options: ["Analista de Segurança", "Engenheiro de Software Focado em IA", "Hacker Ético (Pentester)", "Consultor de Segurança"], answer: 1, explanation: "Embora IA possa ser usada em cibersegurança, 'Engenheiro de Software Focado em IA' é uma carreira mais ampla em desenvolvimento de IA, não especificamente cibersegurança." },
                { question: "Qual certificação é conhecida por focar em hacking ético?", options: ["CISSP", "CompTIA Security+", "CEH (Certified Ethical Hacker)", "CISM"], answer: 2, explanation: "A CEH é uma certificação popular para profissionais que desejam se especializar em testes de penetração e hacking ético." },
                { question: "Que tipo de habilidade é crucial para um analista de segurança além do conhecimento técnico?", options: ["Habilidade de cozinhar", "Pensamento crítico e resolução de problemas", "Habilidade de tocar um instrumento musical", "Conhecimento de jardinagem"], answer: 1, explanation: "Analistas de segurança precisam ser capazes de analisar situações complexas, identificar padrões e resolver problemas de forma eficaz." },
                { question: "O que um especialista em forense digital faz?", options: ["Previne ataques antes que aconteçam", "Investiga incidentes de segurança e crimes cibernéticos, coletando e analisando evidências digitais", "Desenvolve políticas de segurança", "Gerencia firewalls"], answer: 1, explanation: "Especialistas em forense digital são como detetives do mundo digital, recuperando dados e investigando a origem e o impacto de incidentes." }
            ]
        };

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = {};
        let selectedCategories = [];
        let quizStartTime;

        const quizContainer = document.getElementById('quiz-container');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const finishBtn = document.getElementById('finish-btn');
        const scoreDisplay = document.getElementById('score');
        const categoryResultsContainer = document.getElementById('category-results');
        const scoreMessageContainer = document.getElementById('score-message');
        const wrongAnswersContainer = document.getElementById('wrong-answers');
        const retryBtn = document.getElementById('retry-btn');
        const backToReadingBtn = document.getElementById('back-to-reading');
        const quizCategoriesDisplay = document.getElementById('quiz-categories-display');

        // Category Selection
        const categoryBtns = document.querySelectorAll('.category-btn');
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                btn.classList.toggle('ring-2');
                btn.classList.toggle('ring-blue-500');
                btn.classList.toggle('bg-blue-100'); // Visual feedback for selection
                const category = btn.dataset.category;
                if (selectedCategories.includes(category)) {
                    selectedCategories = selectedCategories.filter(c => c !== category);
                } else {
                    selectedCategories.push(category);
                }
            });
        });

        startSelectedQuizBtn.addEventListener('click', () => {
            if (selectedCategories.length === 0) {
                alert('Por favor, selecione pelo menos uma categoria para o quiz.');
                return;
            }
            loadSelectedQuestions();
            startQuiz();
        });

        function loadSelectedQuestions() {
            currentQuestions = [];
            selectedCategories.forEach(category => {
                if (quizData[category]) {
                    currentQuestions = currentQuestions.concat(quizData[category]);
                }
            });
            // Shuffle questions for variety
            currentQuestions.sort(() => Math.random() - 0.5);
            const categoryNames = selectedCategories.map(c => c.charAt(0).toUpperCase() + c.slice(1)).join(', ');
            quizCategoriesDisplay.textContent = `Categorias: ${categoryNames}`;
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            userAnswers = {};
            quizStartTime = new Date();
            showQuizSection();
            displayQuestion();
            updateProgress();
        }

        function displayQuestion() {
            const questionData = currentQuestions[currentQuestionIndex];
            quizContainer.innerHTML = `
                <div class="quiz-card bg-white p-6 rounded-lg shadow-md mb-6">
                    <h3 class="text-xl font-semibold text-blue-800 mb-4">${currentQuestionIndex + 1}. ${questionData.question}</h3>
                    <div class="space-y-3">
                        ${questionData.options.map((option, index) => `
                            <div class="option border border-gray-200 rounded-lg p-3 hover:bg-blue-50 cursor-pointer flex items-center" data-index="${index}">
                                <input type="radio" id="option-${index}" name="quiz-option" value="${index}" class="mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300" ${userAnswers[currentQuestionIndex] === index ? 'checked' : ''}>
                                <label for="option-${index}" class="text-gray-700 flex-1 cursor-pointer">${option}</label>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            document.querySelectorAll('.option').forEach(optionEl => {
                optionEl.addEventListener('click', () => {
                    const radio = optionEl.querySelector('input[type="radio"]');
                    radio.checked = true;
                    userAnswers[currentQuestionIndex] = parseInt(radio.value);
                });
            });

            updateNavigationButtons();
        }

        function updateNavigationButtons() {
            prevBtn.classList.toggle('hidden', currentQuestionIndex === 0);
            nextBtn.classList.toggle('hidden', currentQuestionIndex === currentQuestions.length - 1);
            finishBtn.classList.toggle('hidden', currentQuestionIndex !== currentQuestions.length - 1);
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${currentQuestionIndex + 1}/${currentQuestions.length}`;
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                updateProgress();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (!userAnswers.hasOwnProperty(currentQuestionIndex)) {
                alert("Por favor, selecione uma resposta.");
                return;
            }
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
                updateProgress();
            }
        });

        finishBtn.addEventListener('click', () => {
            if (!userAnswers.hasOwnProperty(currentQuestionIndex)) {
                alert("Por favor, selecione uma resposta para a última pergunta.");
                return;
            }
            calculateResults();
            showResultsSection();
        });

        function calculateResults() {
            let score = 0;
            let categoryScores = {};
            selectedCategories.forEach(cat => categoryScores[cat] = { correct: 0, total: 0 });
            wrongAnswersContainer.innerHTML = '<h3 class="text-xl font-semibold text-red-700 mb-4">Respostas Incorretas e Explicações:</h3>';
            let hasWrongAnswers = false;

            currentQuestions.forEach((q, index) => {
                const questionCategory = selectedCategories.find(cat => quizData[cat].includes(q));
                if (questionCategory) {
                    categoryScores[questionCategory].total++;
                }

                if (userAnswers[index] === q.answer) {
                    score++;
                    if (questionCategory) {
                        categoryScores[questionCategory].correct++;
                    }
                } else {
                    hasWrongAnswers = true;
                    wrongAnswersContainer.innerHTML += `
                        <div class="mb-4 p-3 bg-red-50 border border-red-200 rounded-lg">
                            <p class="font-semibold text-gray-800"><strong>Questão ${index + 1}:</strong> ${q.question}</p>
                            <p class="text-red-600"><strong>Sua resposta:</strong> ${q.options[userAnswers[index]] || 'Não respondida'}</p>
                            <p class="text-green-600"><strong>Resposta correta:</strong> ${q.options[q.answer]}</p>
                            <p class="text-sm text-gray-600 mt-1"><strong>Explicação:</strong> ${q.explanation}</p>
                        </div>
                    `;
                }
            });

            scoreDisplay.textContent = score;
            document.getElementById('score').nextElementSibling.textContent = `/${currentQuestions.length}`;

            categoryResultsContainer.innerHTML = '';
            for (const category in categoryScores) {
                const { correct, total } = categoryScores[category];
                if (total > 0) {
                    const percentage = total > 0 ? Math.round((correct / total) * 100) : 0;
                    categoryResultsContainer.innerHTML += `
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-700">${category.charAt(0).toUpperCase() + category.slice(1)}:</span>
                            <span class="font-medium ${percentage >= 70 ? 'text-green-600' : percentage >= 40 ? 'text-yellow-600' : 'text-red-600'}">${correct}/${total} (${percentage}%)</span>
                        </div>
                    `;
                }
            }

            const quizEndTime = new Date();
            const timeTaken = Math.floor((quizEndTime - quizStartTime) / 1000); // in seconds
            const minutes = Math.floor(timeTaken / 60);
            const seconds = timeTaken % 60;
            document.getElementById('quiz-time').textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            let message = '';
            let messageClass = '';
            const percentageScore = (score / currentQuestions.length) * 100;
            if (percentageScore >= 80) {
                message = 'Excelente! Você demonstrou um ótimo conhecimento em cibersegurança!';
                messageClass = 'bg-green-100 text-green-800';
            } else if (percentageScore >= 60) {
                message = 'Muito bom! Continue estudando para aprimorar ainda mais seus conhecimentos.';
                messageClass = 'bg-blue-100 text-blue-800';
            } else if (percentageScore >= 40) {
                message = 'Bom esforço! Revise os tópicos onde teve mais dificuldade.';
                messageClass = 'bg-yellow-100 text-yellow-800';
            } else {
                message = 'Não desanime! A cibersegurança é um campo vasto. Revise o material e tente novamente.';
                messageClass = 'bg-red-100 text-red-800';
            }
            scoreMessageContainer.textContent = message;
            scoreMessageContainer.className = `max-w-2xl mx-auto mb-8 p-4 rounded-lg ${messageClass}`;

            if (!hasWrongAnswers) {
                wrongAnswersContainer.innerHTML = '<p class="text-green-600 font-semibold">Parabéns! Você acertou todas as questões!</p>';
            }
        }

        function resetQuiz() {
            selectedCategories = [];
            categoryBtns.forEach(btn => {
                btn.classList.remove('ring-2', 'ring-blue-500', 'bg-blue-100');
            });
            showQuizCategoriesSection();
        }

        retryBtn.addEventListener('click', () => {
            // Go back to category selection, keeping selected categories
            showQuizCategoriesSection();
        });
        
        backToReadingBtn.addEventListener('click', () => {
            resetQuiz(); // Clear selected categories as well
            showReadingSection();
        });

        // Initial setup
        showReadingSection(); // Show reading section by default if not logged in or no quiz in progress
        if (storedUser) {
            // If user was logged in, keep them on the app screen, default to reading
            loginScreen.classList.add('hidden');
            appScreen.classList.remove('hidden');
            usernameDisplay.textContent = storedUser;
            usernameDisplay.classList.remove('hidden');
            showReadingSection();
        } else {
            loginScreen.classList.remove('hidden');
            appScreen.classList.add('hidden');
        }

    </script>
</body>
</html>
